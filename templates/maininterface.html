<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='maininterface.css') }}">
        <title>Main interface</title>
    </head>

    <body>
        <h1>Virtual Trading Simulator</h1>
        <div class="container">
            <div id="stock-search">
                <h2>Stock Search</h2>
                <input type="text" id="stock-symbol" placeholder="Enter stock symbol">
                <button onclick="searchStock()" id="search-button">Search</button>
                <p id="stock-search-results"></p>
            </div>

            <div>
                <h2>Balance</h2>
                <div id="balance-container">
                    Your Balance is:
                    <label for="" id="balance-display">{{balance}}</label>
                </div>
                <form action="{{url_for('balance_update', username=username)}}" method="post">
                <div>
                    <label for="balance-input">Enter amount:</label>
                  <input type="number" id="balance-input" name="balance" required>
                </div>

                <br>
            
                <button id="balance-withdraw" type="submit" name="action" value="deposit">Deposit</button> <button id="balance-deposit" name="action" type="submit" value="withdraw">Withdraw</button>
                {% if message_balanceupdate :%}
                <p>{{message_balanceupdate}}</p>
                {% endif %}    
            </form>
                
            </div>

            <div id="portfolio">
                <h2>My Portfolio</h2>
                <table id="portfolio-table">
                    <tr>
                        <th>Stock Symbol</th>
                        <th>Shares</th>
                        <th>Current Price</th>
                        <th>Total Value</th>
                        <th>Actions</th>
                    </tr>
                </table>
                <p id="portfolio-value"></p>
            </div>

            <div id="transaction-history">
                <h2>Transaction History</h2>
                <ul id="transaction-list">
                </ul>
            </div>

            <div id="buy-sell-form">
                <h2>Buy/Sell Stocks</h2>
                <form onsubmit="submitTransactionForm(event)">
                    <input type="text" id="transaction-symbol" placeholder="Stock Symbol">
                    <input type="number" id="transaction-quantity" placeholder="Quantity">
                    <select id="transaction-type">
                        <option value="buy">Buy</option>
                        <option value="sell">Sell</option>
                    </select>
                    <button type="submit">Submit</button>
                </form>
                <p id="transaction-error"></p>
            </div>
        </div>

    </body>

</html>